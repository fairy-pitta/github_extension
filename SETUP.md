# Chrome Extension Setup Guide

Step-by-step instructions to get the Chrome extension running.

## 1. Install Dependencies

Navigate to the project directory in your terminal and run:

```bash
cd /Users/shuna/github-expansion
npm install
```

## 2. Build

Build the extension:

```bash
npm run build
```

After a successful build, the extension files will be generated in the `dist` directory.

## 3. Load the Extension in Chrome

1. **Open Chrome**
2. **Open the Extensions page**
   - Type `chrome://extensions/` in the address bar and press Enter
   - Or, go to Menu → More tools → Extensions
3. **Enable Developer mode**
   - Toggle "Developer mode" ON in the top-right corner of the page
4. **Load the extension**
   - Click "Load unpacked"
   - Select the `dist` directory
   - Select `/Users/shuna/github-expansion/dist`

## 4. Configure the Extension

1. **Open a new tab**
   - When you open a new tab, the GitHub Dashboard will be displayed
   - Authentication is required initially, so the settings screen will appear
2. **Set up Authentication**

### Option 1: OAuth Authentication (Recommended)

The extension supports OAuth authentication, which is more secure and convenient than manually entering tokens.

1. Click the "Sign in with GitHub" button in the settings page
2. You will be redirected to GitHub's authentication page
3. Click "Authorize" to grant the extension access
4. The extension will automatically obtain and save your access token
5. The page will reload and display your GitHub dashboard

**Note:** For development, you may need to create a GitHub OAuth App first:
1. Go to GitHub Settings → Developer settings → OAuth Apps
2. Click "New OAuth App"
3. Fill in the application details:
   - **Application name**: GitHub Extension (or your preferred name)
   - **Homepage URL**: Your extension's homepage (can be a placeholder)
   - **Authorization callback URL**: This will be generated by Chrome (format: `chrome-extension://YOUR_EXTENSION_ID/`)
4. Copy the **Client ID** and set it in `src/application/config/AppConfig.ts` as `oauth.clientId`
5. Rebuild the extension

### Option 2: Manual Personal Access Token (Alternative)

If you prefer to use a Personal Access Token instead:

1. In the settings page, click "Manual Token Input" to expand the section
2. Create a Personal Access Token at [GitHub Settings](https://github.com/settings/tokens/new)
3. Select the required permissions:
   - `repo` (for private repositories)
   - `read:org` (for organization repositories)
   - `read:user` (for reading user information)
4. Generate and copy the token
5. Paste it into the extension's settings page and save

## 5. Verify Operation

- When you open a new tab, the GitHub Dashboard will be displayed
- The following information will be shown:
  - **Pull Requests (Created by Me)**: PRs you created
  - **Pull Requests (Review Requested)**: PRs that need your review
  - **Issues (Involved)**: Issues you're involved with
  - **Recently Updated Repositories**: Recently updated repositories

## Development Mode (Hot Reload)

To develop while making code changes:

```bash
npm run dev
```

This command watches for file changes and automatically rebuilds.
Click the "Reload" button on the Chrome extensions page to see your changes.

## Troubleshooting

### If Build Errors Occur

```bash
# Reinstall dependencies
rm -rf node_modules package-lock.json
npm install
npm run build
```

### If the Extension Won't Load

- Verify that the `dist` directory was generated correctly
- Check that `dist/manifest.json` exists
- Check for errors in Chrome's console (F12)

### If Data Doesn't Display

- If using OAuth: Verify that the OAuth App is configured correctly and the Client ID is set
- If using PAT: Verify that the Personal Access Token is set correctly
- Check that the token has the required permissions (`repo`, `read:org`, `read:user`)
- Check for error messages in the browser console (F12)

## Useful Features

- **Refresh**: Click the refresh button in the header, or press the `r` key
- **Filter**: Toggle between "All" and "Open Only"
- **Settings**: Access the settings page from the ⚙️ button in the header
